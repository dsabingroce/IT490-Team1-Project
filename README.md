# IT490-Team1-Project Travel Tune

## Project Overview
Travel Tune is an application that calculates the travel time between two points using the MapsQuest API and then produces a playlist of music to accomodate the trip. This playlist is generated by the Spotify API and is based on a specific genre selected by the user interface. 

## Components
This project is comprised of four separate servers that are connected to a single network adapter via ethernet. Below is a breakdown of these four servers. These servers are coded in a mix of Python and PHP. 

### RabbitMQ Server (RMQ)
This server's primary function is to function as the message broker or "middleman" between all the other servers. This means, that this server recieves, controls, and organizes all communications between the other three servers. This is all done through a package called RabbitMQ, which handles JSON and AMQP messages. It reads metadata tied to these messages and places them in appropriate queues. These queues line up messages for the servers that are listening on them (consumers). The servers sending these messages (publishers) can also use an RPC protocol to send messages and then await a response.   

The Python scripts use the pika module to generate AMQP messages while the PHP scripts utilize the amqplib Library.   

#### RPC Messaging Structure
Remote Procedure Calls (RPCs) are a method of communication between machines that involve a request message followed by a response message in the opposite direction. This structure is accomplished by adding a "reply_to" and correlation id to the AMQP message itself. When a server recieves a message from a client, it processes information for its response. It sends this message to the "reply_to" queue that the client is listening on as it waits. The correlation id is to help the client distiguish what request this response is related to.      

### Database
The database code, which can be found in the "Database" folder, is written in Python, and uses several modules to communicate to and from the RMQ server and perform queries to the MSSQL database. This server uses the pyodbc module to make queries and request information from the database.    

### DMZ
The DMZ's purpose in this structure is to be the application's gateway to the internet. If the other servers were capable to connecting to the internet by themselves, that could be seen as a touchpoint or vulnerablilty. This server utilizes its connection to the internet to initiate communications with APIs. These APIs provide data that the application uses calculate and organize its playlists. 

#### MapsQuest
The application uses the REST API to make queries to the third party MapQuest database to receive travel times.

#### Spotify
The Spotify API is accessed through the spotipy Python module. 

### Front End Web Server
This component for the application serves as the user interface. The front end is used to take input from the user and use it to send off requests to the other servers. That information is then received and presented back to the user.

#### Pages
You can refer to the TravelTune_UIoutline.pdf in this repository to view the structure of the site. This file displays the flow for which the user should take to navigate around the site.

##### Login and Registration Page
These are meant for the user to authenicate with the database, allowing them to access information related to that user.

##### Main Menu
The main menu acts a the centralized directory for which the user can access all the other pages available to them in the application. 

##### Social Page
A page that queries the database for a list of the user's friends.  From here, the user can also add a friend to their list. If the user1 adds user2 to their friends list, user1 will now also appear on user2's friends list. 

##### Scoreboard
The scoreboard is meant to show the user statistics based on their usage of the application. This page lists off the total length of the playlists they have created, the total songs from the playlists they have created, as well as how often they have chosen a specific genre when creating a genre.

##### Create New Routes
On this page, the user can enter two locations that will then return with the ammount of time it takes to travel between these points by car. You can also check a box to save this route to your favorite routes. 

##### Saved Routes
This pages displays all the three most recent routes that the user had chose to save. The user can click on one of these routes go create a playlist for that route.  There is also an option to create a new route from here.   

##### Create New Playlist
After selecting a route, the user is prompted to select a genre. This genre will then be used when generating a playlist. In similar fashion to saving favorite routes, the user can do the same with playlists that are generated.

##### Saved Playlists
This page will display the three most recent playlists that were saved by the user. These playlists will appear in the form of links that lead to the playlist in spotify.   
